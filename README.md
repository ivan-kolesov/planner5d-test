## Task
Create a small website that imports projects from our gallery and previews them.

1. Prepare database:
   1. Structure
   2. PHP import script (can be launched from shell or browser), that will import 2-3 pages of projects from our gallery: https://planner5d.com/gallery/floorplans
2. List of projects. Pressing on list item should open project preview page.
3. Project preview page should contain:
   1. Project title
   2. Project preview (Canvas 2D) on which you should draw project room polygons from first floor
   3. Hits - how many times project preview page was visited

## Requirements

- Use PHP 7.4+
- Use TypeScript
- Do not use architectural TypeScript framework (like Vue.js, React)
- For database you can use MySQL or SQLite
- You can use Symfony, Laravel or write from scratch
- Provide task result as a git repository packaged in a gitbundle and don't post it on public code sharing services (github, bitbucket, ...)
- We expect to be able to run your code without fuss - so if there are any specifics that are needed to get your code running, please commit them to git repository if possible

## What we will look at

- Clarity, elegance and maintainability of code
- Code consistency
- A clear architecture and adherence to design patterns
- Knowledge of the web standards and best practices
- HTML, CSS structure
- Database structure and SQL

## What we don't want to see

- Over engineering your code
- Fancy UI / UX

* * *

## Prerequisites

- PHP 7.4+
- node 16+
- [composer](https://getcomposer.org/)

## Run project

1. Clone bundle into a directory
````
git clone repo.bundle planner5d
````
2. Change current directory

3. Install laravel framework with dependencies
````
composer install
````
4. Create an empty sqlite database
````
touch database/database.sqlite
php artisan migrate
````
5. Install node dependencies
````
npm ci
````
6. Build assets
````
npm run prod
````
7. Import 3 pages of projects from the gallery: https://planner5d.com/gallery/floorplans
````
php artisan import:projects
````
8. Run local web server
````
php artisan serve
````
9. Open address from local server, default is [http://127.0.0.1:8000](http://127.0.0.1:8000)
10. Run test
````
php artisan test
````
## Explanation

sqlite was chosen as the database. it is most suitable for the current task due to the structure and amount of data.
The reference to the canvas is kept in its original form so as not to override its formation logic.

The importer is implemented as a console command, requesting 3 pages from the original site.
Projects are imported in multiple streams to speed up the import.
The number of simultaneous threads and the number of requested pages are configured in the command code through constants.
Import status as well as errors are printed to the console.

The .env file is included in the repository solely for running the project, this should not be done in development.

As an architecture, I chose a client-server with api implementation.
Page templates are generated by the backend part, the frontend makes requests to api and renders data in the browser.

Two types of testing are implemented: unit and integration.
Unit tests the ability of the importer to extract data correctly.
